async function toggle_button(e,t){show_toast(""),console.log(t);let a="",n="http://192.168.1.126/api";switch(t){case"light_state":a=await toggle_state(n+"/light","state"),document.getElementById("light_state_txt").innerHTML=a;break;case"light_mode":a=await toggle_mode(n+"/light","mode"),document.getElementById("light_mode_txt").innerHTML=a;break;case"fan_state":a=await toggle_state(n+"/fan","state"),document.getElementById("fan_state_txt").innerHTML=a;break;case"fan_mode":a=await toggle_mode(n+"/fan","mode"),document.getElementById("fan_mode_txt").innerHTML=a;break;default:console.log("Event_button click but no handle")}}async function toggle_state(e,t){let a=parseInt(await api_get(e+"?type="+t));return a=0==a?1:0,e+="?type="+t+"&value="+a,await api_post(e),a}async function toggle_mode(e,t){let a=await api_get(e+"?type="+t);return a="manual"==a?"auto":"manual",e+="?type="+t+"&value="+a,await api_post(e),a}async function api_post(e){const t=await fetch(e,{method:"POST"}),a=await t.text();console.log("Responded: "+a)}async function api_get(e){const t=await fetch(e,{method:"GET"}),a=await t.text();return console.log("Responded: "+a),a}function show_toast(e){var t=document.getElementById("snackbar");t.innerHTML="SEND!"+e,t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3)}async function api_get(e){const t=await fetch(e,{method:"GET"}),a=await t.text();return console.log("Responded: "+a),a}async function sld_light_pwm(e,t){show_toast("");let a=e.value,n="http://192.168.1.126/api";switch(t){case"light_freq":api_post(n+"/light?type=frequency&value="+a),document.getElementById("light_freq_txt").innerHTML=a+"Hz";break;case"light_cycle":api_post(n+"/light?type=duty_cycle&value="+a),document.getElementById("light_cycle_txt").innerHTML=a+"%";break;case"fan_freq":api_post(n+"/fan?type=frequency&value="+a),document.getElementById("fan_freq_txt").innerHTML=a+"Hz";break;case"fan_cycle":api_post(n+"/fan?type=duty_cycle&value="+a),document.getElementById("fan_cycle_txt").innerHTML=a+"%";break;case"temp_max":api_post(n+"/fan?type=temp_max&value="+a),document.getElementById("fan_temp_max_txt").innerHTML=a+"*C"}}async function change_light_pwm(e){api_post(e)}async function api_post(e){const t=await fetch(e,{method:"POST"}),a=await t.text();console.log("Responded: "+a)}async function api_get(e){const t=await fetch(e,{method:"GET"}),a=await t.text();return console.log("Responded: "+a),a}function show_toast(e){var t=document.getElementById("snackbar");t.innerHTML="SEND!"+e,t.className="show",setTimeout((function(){t.className=t.className.replace("show","")}),3e3)}async function time_pick(e,t){console.log(e.value);let a=e.value.split(":");console.log(a[0]),console.log(a[1]);let n="http://192.168.1.126/api/time";switch(t){case"start":await api_post(n+"?type=time_start_h&value="+e.value.split(":")[0]),await api_post(n+"?type=time_start_m&value="+e.value.split(":")[1]);break;case"end":await api_post(n+"?type=time_end_h&value="+e.value.split(":")[0]),await api_post(n+"?type=time_end_m&value="+e.value.split(":")[1])}console.log("timepick")}async function api_post(e){console.log(e);const t=await fetch(e,{method:"POST"}),a=await t.text();console.log("Responded: "+a)}document.addEventListener("DOMContentLoaded",(async function(){console.log("HEEEY");let e="http://192.168.1.126/api";document.getElementById("time_time_txt").innerHTML=await api_get(e+"/time"),document.getElementById("time_start_pick").value=await api_get(e+"/time?type=time_start"),document.getElementById("time_end_pick").value=await api_get(e+"/time?type=time_end"),document.getElementById("light_state_txt").innerHTML=await api_get(e+"/light?type=state"),document.getElementById("light_mode_txt").innerHTML=await api_get(e+"/light?type=mode"),document.getElementById("light_cycle_slide").value=await api_get(e+"/light?type=duty_cycle"),document.getElementById("light_cycle_txt").innerHTML=document.getElementById("light_cycle_slide").value+"%",document.getElementById("light_freq_slide").value=await api_get(e+"/light?type=frequency"),document.getElementById("light_freq_txt").innerHTML=document.getElementById("light_freq_slide").value+"Hz",document.getElementById("fan_state_txt").innerHTML=await api_get(e+"/fan?type=state"),document.getElementById("fan_mode_txt").innerHTML=await api_get(e+"/fan?type=mode"),document.getElementById("fan_cycle_slide").value=await api_get(e+"/fan?type=duty_cycle"),document.getElementById("fan_cycle_txt").innerHTML=document.getElementById("fan_cycle_slide").value+"%",document.getElementById("fan_freq_slide").value=await api_get(e+"/fan?type=frequency"),document.getElementById("fan_freq_txt").innerHTML=document.getElementById("fan_freq_slide").value+"Hz",document.getElementById("fan_temp_is_txt").innerHTML=await api_get(e+"/fan?type=temp_is"),document.getElementById("fan_temp_max_slide").value=await api_get(e+"/fan?type=temp_max"),document.getElementById("fan_temp_max_txt").innerHTML=document.getElementById("fan_temp_max_slide").value+"*C"})),document.addEventListener("DOMContentLoaded",(function(){new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},paginationClickable:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}));